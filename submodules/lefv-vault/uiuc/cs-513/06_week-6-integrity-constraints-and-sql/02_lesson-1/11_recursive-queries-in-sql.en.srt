1
00:00:07,370 --> 00:00:12,779
So what I'm gonna show you now is how we can

2
00:00:12,779 --> 00:00:17,214
deal with recursion in SQL using some small examples, hands-on examples.

3
00:00:17,214 --> 00:00:19,629
We're gonna post those examples also on the website.

4
00:00:19,629 --> 00:00:25,824
So, since 1999 or since rather that standard called SQL:99,

5
00:00:25,824 --> 00:00:33,024
recursion is now allowed in SQL using a construct called CTE (common table expressions).

6
00:00:33,024 --> 00:00:37,229
So the basic idea is you write a statement such as this,

7
00:00:37,229 --> 00:00:40,215
you say: with recursive.

8
00:00:40,215 --> 00:00:41,784
So that with recursive,

9
00:00:41,784 --> 00:00:44,634
that special construct, and then you have a query.

10
00:00:44,634 --> 00:00:48,204
We're gonna look at that in a moment with some examples.

11
00:00:48,204 --> 00:00:51,854
And this will allow us to do is to,

12
00:00:51,854 --> 00:00:56,359
for example, navigate a simple hierarchy and do some operations on it.

13
00:00:56,359 --> 00:01:01,604
There's also some crazy stuff we can do with recursion.

14
00:01:01,604 --> 00:01:06,200
This is, again, basically having fun with ASCII art here.

15
00:01:06,200 --> 00:01:07,629
So this is, I think,

16
00:01:07,629 --> 00:01:11,379
one of the examples of the SQLite on the website,

17
00:01:11,379 --> 00:01:14,834
somewhere it's mentioned there.

18
00:01:14,834 --> 00:01:20,049
There is a mathematical field called fractals or

19
00:01:20,049 --> 00:01:28,549
fractal geometry that became popular or was pioneered by this fellow here,

20
00:01:28,549 --> 00:01:31,439
Benoit Mandelbrot, in the 80s, in the 1980s.

21
00:01:31,439 --> 00:01:37,189
And you see down here sort of different views as you zoom into this very,

22
00:01:37,189 --> 00:01:41,265
you know, highly recursive and self-similar mathematical object.

23
00:01:41,265 --> 00:01:43,719
So this is something that's related to chaos theory,

24
00:01:43,719 --> 00:01:45,885
has nothing really to do with data cleaning here,

25
00:01:45,885 --> 00:01:50,230
but it's an example of something that sort of you can study

26
00:01:50,230 --> 00:01:55,055
using a computers by sort of zooming in and looking at properties.

27
00:01:55,055 --> 00:01:56,745
This is also used â€“ fractal geometry,

28
00:01:56,745 --> 00:01:58,469
for example, also used in rendering.

29
00:01:58,469 --> 00:02:01,135
You know, if you see computer animated movies

30
00:02:01,135 --> 00:02:05,844
where you see scenes of landscapes and mountains and so on,

31
00:02:05,844 --> 00:02:08,250
these kinds of techniques are often used.

32
00:02:08,250 --> 00:02:10,314
So here is a proof of concept.

33
00:02:10,314 --> 00:02:12,789
You can see that you can get sort of

34
00:02:12,789 --> 00:02:16,485
an approximation of that set using SQL. This is kind of neat.

35
00:02:16,485 --> 00:02:20,555
So you can write a query that is recursive and gives you,

36
00:02:20,555 --> 00:02:22,129
you know, this output.

37
00:02:22,129 --> 00:02:26,735
So you see this Mandelbrot set here on the left is

38
00:02:26,735 --> 00:02:32,430
the big overview and here we zoom in at ever and ever greater resolutions,

39
00:02:32,430 --> 00:02:36,814
zooming in a factor of a thousand, 10,000, a million.

40
00:02:36,814 --> 00:02:40,500
You can zoom in very far and then a sort of

41
00:02:40,500 --> 00:02:45,729
an interesting or neat property of these fractals is often that, often not necessarily,

42
00:02:45,729 --> 00:02:48,099
but often that they're self-similar So you started

43
00:02:48,099 --> 00:02:50,694
out here and you zoom in further, further, further,

44
00:02:50,694 --> 00:02:53,094
and then inside, you see something that looks

45
00:02:53,094 --> 00:02:56,254
just like what you started with or very similar.

46
00:02:56,254 --> 00:03:00,064
OK? So again, this is something we'll play with in a moment.

47
00:03:00,064 --> 00:03:03,270
We'll do this in SQL just to see how it works.