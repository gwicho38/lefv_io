### Test

```

// export const epic: Epic<AnyAction, AnyAction, ImmutableReduxState> = (

// actionStream: UiSdlActionsObservable,

// stateStream: UiSdlStatesObservable

// ) =>

// actionStream.pipe(

// mergeMap((action) => {

  

// // Get helper component references

// const bannerId = 'ProductionScheduleOptimization.PsoBanner';

// const dataSourceId = getCollectionDataSourceId(

// 'dataSpec',

// 'ProductionScheduleOptimization.SchedulerMasterWorkingDayGrid'

// );

// const filterPanelField =

// 'ProductionScheduleOptimization.ScheduleMasterWorkingDayFilterPanel_dataSpec_fieldSets_0_fields_0_filterElement_inputElement_dataSpec_ds';

  

// // Get value from state payload

// const state = stateStream.value;

// const {

// actionType, componentId, formId, modalId, tableId1, tableId2

// } = action.payload;

// // Pull values off the form and trim them

// const formFieldValues = getFormFieldValuesFromState(formId, state, ['formFieldValues']);

// Object.keys(formFieldValues).forEach(function (key) {

// if (typeof formFieldValues[key] === 'string') {

// formFieldValues[key] = formFieldValues[key].trim();

// }

// });

// // Save the name of the Working Day to display on the save and display on banner notification

// const workingDayName = formFieldValues?.name as string;

  

// // Get Working Shift Cache from state

// const workingShiftCache =

// getConfigFromApplicationState('ProductionScheduleOptimization.PsoApplicationState', state, [

// 'workingShiftCache',

// ]) || [];

  

// // Create Working Day Object

// const workingDay: WorkingDay = {

// id: formFieldValues.name,

// name: `Work Day ${formFieldValues?.name}`

// };

  

// // Create Working Day To Working Shift Map

// const workDayWorkShifts = workingShiftCache.map((workShiftId) => {return {from: workingDay.id, to: workShiftId}});

  

// if (workingDayName) {

// return mergeMap((e: any) => concat(

// of(openCloseModalAction(modalId, true))

// ));

// } else {

// return mergeMap((e: any) => concat(

// of(openCloseModalAction(modalId, true))

// ));

// }

  

// // if (actionType === 'SAVE' &&

// // !workingShiftName) {

// // return concat(

// // of(requireFieldAction(formId, 'workingDayName', !workingShiftName))

// // );

// // } else if (actionType === 'SAVE') {

// // // Perform writes asynchronously

// // return forkJoin(

// // ajax(

// // "WorkingDay",

// // 'upsertBatch',

// // {objs: [workingDay]},

// // getTunnelConfigurationFromState(state)

// // ),

// // ajax(

// // 'WorkingDayToWorkingShiftRelation',

// // 'upsertBatch',

// // {objs: workDayWorkShifts},

// // getTunnelConfigurationFromState(state)

// // ),

// // ).pipe(

// // mergeMap((e: any) => concat(

// // of(

// // showBannerAction(bannerId, {

// // componentId: bannerId,

// // primaryText: `WorkingDay "${workingShiftName}" successfully created`,

// // })

// // ),

// // of(requestDataAction(dataSourceId)),

// // of(requestDataAction(filterPanelField, [])),

// // of(clearFormStatusAction(formId)),

// // of(openCloseModalAction(modalId, false)),

// // of(resetFormAction(formId)),

// // of(cancelFormAction(formId))

// // )),

// // catchError((error) => of(

// // showBannerAction(bannerId, {

// // componentId: bannerId,

// // primaryText: `Failed to create WorkingShift "${workingDay.name}"`,

// // })

// // ))

// // );

  

// // } else if (actionType === 'CANCEL') {

// // return concat(

// // of(

// // showBannerAction(bannerId, {

// // componentId: bannerId,

// // primaryText: `Canceled Working Day creation`,

// // })

// // ),

// // of(clearFormStatusAction(formId)),

// // of(openCloseModalAction(modalId, false)),

// // of(resetFormAction(formId)),

// // of(cancelFormAction(formId))

// // );

// // } else {

// // return concat(

// // of(clearFormStatusAction(formId)),

// // of(openCloseModalAction(modalId, false)),

// // of(resetFormAction(formId)),

// // of(cancelFormAction(formId))

// // );

// // }

  

// })

// );

```


 #c3-ai #ref 

### Opps Set Up

-   make User
    
-   make zzwsUser
    
-   add User to docker group
    
-   add zzwsUser to wheel group
    
-   set passwords on each
    
-   delete zzwsmorrisj account
    
-   you can leave morrisj
